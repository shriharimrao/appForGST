{% extends 'webapp/base.html' %}

{% block content %}
  <body>
    <div class="container bg-light shadow-md p-5 form-layout">
      <h3>Upload Invoice</h3>
      <h6>Upload an Excel file to add details to your record.</h6>
      <hr>
      <br>
      <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="mb-3">
              <label for="excel_file" class="form-label">Upload Excel File</label>
              <input type="file" class="form-control" name="excel_file" id="excel_file">
          </div>
          <button type="submit" class="btn btn-primary" name="input_method" value="upload_excel">Upload</button>
      </form>
    </div>

    <br>

    <hr>

    <table class="table table-hover table-bordered">
      <thead class="table-light">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Quantity</th>
          <th scope="col">Unit</th>
          <th scope="col">Rate</th>
          <th scope="col">Views</th>
        </tr>
      </thead>
      <tbody>
        {% for item in uploaded_items %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unit }}</td>
            <td>{{ item.rate }}</td>
            <td> <a class="btn btn-success btn-sm" href="#"> <i class="fa fa-eye" aria-hidden="true"></i> </a> </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </body>
{% endblock %}
